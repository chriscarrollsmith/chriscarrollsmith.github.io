<div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!Tffw!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!Tffw!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png 424w, https://substackcdn.com/image/fetch/$s_!Tffw!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png 848w, https://substackcdn.com/image/fetch/$s_!Tffw!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png 1272w, https://substackcdn.com/image/fetch/$s_!Tffw!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/$s_!Tffw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png" width="1456" height="840" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:840,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2298820,&quot;alt&quot;:&quot;Concept art reimagining of the IMF logo&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="Concept art reimagining of the IMF logo" title="Concept art reimagining of the IMF logo" srcset="https://substackcdn.com/image/fetch/$s_!Tffw!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png 424w, https://substackcdn.com/image/fetch/$s_!Tffw!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png 848w, https://substackcdn.com/image/fetch/$s_!Tffw!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png 1272w, https://substackcdn.com/image/fetch/$s_!Tffw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26b4b3da-7bf5-4207-af41-d89ff021da67_1664x960.png 1456w" sizes="100vw" fetchpriority="high"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>I&#8217;m very excited to announce the release of my first R and Python packages, <code>imfr</code> v2 and <code>imfp </code>v1. The R package is an update of a package initially created by Christopher Gandrud. It is available on <a href="https://github.com/chriscarrollsmith/imfr">Github</a> and has been submitted for publication through the CRAN repository. The Python package is available though both <a href="https://github.com/chriscarrollsmith/imfp">Github</a> and <a href="https://pypi.org/project/imfp/">PyPi</a>. To install <code>imfr</code>, use:</p><pre><code>devtools::install_github("christophergandrud/imfr")</code></pre><p>To install <code>imfp</code>, use:</p><pre><code>pip install imfp</code></pre><h2>Over two hundred fifty databases at your fingertips</h2><p>There have been a few half-hearted efforts to make a Python package for downloading data from the International Monetary Fund API, but there has never been a complete, well-documented package that provides comprehensive access to all the API&#8217;s databases and key features. <code>imfr</code> and <code>imfp</code> are designed to fill this need.</p><p>The International Monetary Fund API offers an incredible 252 databases, including some really important standbys such as International Financial Statistics and the Primary Commodity Price System. The latter, a database of global commodity prices, is also available through FRED. However, the IMF&#8217;s data is more up-to-date, with FRED merely repackaging the IMF data and making it available with a lag.</p><p>To view the available databases in R, use:</p><pre><code>library(imfr)
View(imf_databases())</code></pre><p>In Python, you may want to open the data frame in a browser window to allow for easy viewing. There are a couple ways to do that, but I like this implementation of a simple `View` function similar to RStudio&#8217;s:</p><pre><code>import imfp
import tempfile
import webbrowser

df = imfp.imf_databases()

def View(df):
    html = df.to_html()
    with tempfile.NamedTemporaryFile('w', delete=False, suffix='.html') as f:
        url = 'file://' + f.name
        f.write(html)
    webbrowser.open(url)

View(df)</code></pre><h2>Intuitive workflow</h2><p>As you might imagine, querying the IMF&#8217;s 252 different databases can be quite complicated, since there are many different parameters used in different databases, and many different possible combinations of parameters. To solve this problem, the <code>imfr</code> and <code>imfp</code> databases introduce a workflow for exploring these databases and crafting your requests. </p><p>First, use the <code>imf_databases</code> method to get a full list of databases. Select a database of interest, and then use <code>imf_parameter_defs</code> to see a short list of parameters that can be used to query it. For a complete list of the values that each parameter can take, use <code>imf_parameters</code> to get a list (in R) or a dict (in Python) of dataframes for each parameter. Finally, supply your parameters as arguments to <code>imf_dataset</code> to get a data frame of the series you want. For full instructions, I refer you to the READMEs on the Github repos linked above.</p><h2>Example project</h2><p>To illustrate how to request data from one of the more complex databases, we&#8217;ll take a look at the &#8220;Balance of Payments&#8221; database using <code>imfp</code> in Python:</p><pre><code>import imfp  

df = imfp.imf_databases()
df[df['description'].str.contains("Balance of Payments")]</code></pre><p>We find that there are in fact a whole bunch of Balance of Payments databases, but for our purposes we&#8217;ll just take the main one, with <code>input_code</code> &#8216;BOP&#8217;.</p><p>Next, we&#8217;ll get the parameters for this database:</p><pre><code>params = imfp.imf_parameters('BOP')
params.keys()</code></pre><p>Running <code>params.keys()</code> tells us that the parameter names for this database are &#8216;freq&#8217;, &#8216;ref_area&#8217;, and &#8216;indicator&#8217;. For each key, the params dict contains a data frame of valid values. We can view each data frame with the <code>View</code> function we defined above:</p><pre><code>View(params['freq'])
View(params['ref_area'])
View(params['indicator'])</code></pre><p>In the `indicator` data frame we find over 6,000 rows. Let&#8217;s assume we&#8217;re only interested in rows that report &#8220;Totals&#8221;. That lets us narrow things down a bit:</p><pre><code>View(params['indicator'][params['indicator']['description'].str.contains('Total')])</code></pre><p>You&#8217;ll want to do this for each parameter, but let&#8217;s skip ahead and assume we&#8217;ve looked at the data frames and manually picked out the codes we want. We want to look at annual data for the US and Brazil, and we want the net capital account and net current account in US dollars. </p><p>(Sidenote here for the uninitiated. Capital account is the net flow of investment transaction into an economy. Current account is net income from imports and exports. Together, these are the two main components of balance of payments.)</p><p>With parameter codes in hand, we craft our queries and make our database requests:</p><pre><code>cur_acc = imfp.imf_dataset(database_id='BOP',freq='A',indicator='BK_BP6_USD',ref_area=['US','BR'])
cap_acc = imfp.imf_dataset(database_id='BOP',freq='A',indicator='BCA_BP6_USD',ref_area=['US','BR'])</code></pre><p>We can get a quick glimpse of what the capital account data frame looks like with <code>data.head()</code>:</p><div class="captioned-image-container"><figure><a class="image-link image2" target="_blank" href="https://substackcdn.com/image/fetch/$s_!CpnW!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!CpnW!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg 424w, https://substackcdn.com/image/fetch/$s_!CpnW!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg 848w, https://substackcdn.com/image/fetch/$s_!CpnW!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!CpnW!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/$s_!CpnW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg" width="910" height="217" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:217,&quot;width&quot;:910,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:46303,&quot;alt&quot;:&quot;Sample Balance of Payments data frame from imfp library&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="Sample Balance of Payments data frame from imfp library" title="Sample Balance of Payments data frame from imfp library" srcset="https://substackcdn.com/image/fetch/$s_!CpnW!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg 424w, https://substackcdn.com/image/fetch/$s_!CpnW!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg 848w, https://substackcdn.com/image/fetch/$s_!CpnW!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!CpnW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6ab1a565-9235-4a06-a05f-209386158bf7_910x217.jpeg 1456w" sizes="100vw" loading="lazy"></picture><div></div></div></a></figure></div><p>For our purposes, we are primarily interested in the <code>obs_value</code> and <code>time_period</code> columns. We&#8217;ll also need <code>ref_area</code> to distinguish between US data and Brazil data. Note that the <code>unit_mult</code> column tells us that our <code>obs_value</code>s are reported in millions. (The &#8216;6&#8217; tells us to multiply by 1e6, or add 6 zeroes to our <code>obs_value</code>.)</p><p>All entries are received in string format, so for plotting we have to convert to numeric or datetime. We also divide by a thousand to convert from millions to billions.</p><pre><code>cur_acc['time_period'] = cur_acc['time_period'].astype(int)
cur_acc['obs_value'] = cur_acc['obs_value'].astype(float)

cur_acc['obs_value'] = cur_acc['obs_value'] / 1e3

cap_acc['time_period'] = cap_acc['time_period'].astype(int)
cap_acc['obs_value'] = cap_acc['obs_value'].astype(float)

cap_acc['obs_value'] = cap_acc['obs_value'] / 1e3</code></pre><p>And finally, we plot the capital account data using the <code>seaborn</code> package, with each <code>ref_area</code> represented by a different hue:</p><pre><code>sns.lineplot(data=data, x='time_period', y='obs_value', hue='ref_area')</code></pre><p>This gives us the following lovely plot, showing the US&#8217;s rather large capital account deficit (i.e. net loss of investment) and the more modest deficit for Brazil.</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!1sGE!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!1sGE!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png 424w, https://substackcdn.com/image/fetch/$s_!1sGE!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png 848w, https://substackcdn.com/image/fetch/$s_!1sGE!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png 1272w, https://substackcdn.com/image/fetch/$s_!1sGE!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/$s_!1sGE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png" width="583" height="453" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ed652a2e-5264-4d65-8696-6f449da82183_583x453.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:453,&quot;width&quot;:583,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:36243,&quot;alt&quot;:&quot;Capital account plot for US and Brazil&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="Capital account plot for US and Brazil" title="Capital account plot for US and Brazil" srcset="https://substackcdn.com/image/fetch/$s_!1sGE!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png 424w, https://substackcdn.com/image/fetch/$s_!1sGE!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png 848w, https://substackcdn.com/image/fetch/$s_!1sGE!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png 1272w, https://substackcdn.com/image/fetch/$s_!1sGE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed652a2e-5264-4d65-8696-6f449da82183_583x453.png 1456w" sizes="100vw" loading="lazy"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>Similarly, we plot the current account balance and find the US mostly running deficits, while Brazil recently ran a surplus:</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!-Z22!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!-Z22!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png 424w, https://substackcdn.com/image/fetch/$s_!-Z22!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png 848w, https://substackcdn.com/image/fetch/$s_!-Z22!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png 1272w, https://substackcdn.com/image/fetch/$s_!-Z22!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/$s_!-Z22!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png" width="574" height="453" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:453,&quot;width&quot;:574,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:35500,&quot;alt&quot;:&quot;Current Account plot for US and Brazil&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="Current Account plot for US and Brazil" title="Current Account plot for US and Brazil" srcset="https://substackcdn.com/image/fetch/$s_!-Z22!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png 424w, https://substackcdn.com/image/fetch/$s_!-Z22!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png 848w, https://substackcdn.com/image/fetch/$s_!-Z22!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png 1272w, https://substackcdn.com/image/fetch/$s_!-Z22!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7ee0ba-20c6-4a61-ae03-fb84bbff6a53_574x453.png 1456w" sizes="100vw" loading="lazy"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>Of course, for a serious analysis, you&#8217;d want to normalize to the size of a country&#8217;s economy for a side-by-side comparison like this. </p><p>As your homework assignment, you can download <code>imfp</code> or <code>imfr</code> and go find that statistic in the International Financial Statistics database, database_id &#8216;IFS&#8217;. (Or, to make things even more interesting, import the <code>fredapi</code> library and combine the IMF balance of payments data with the GDP series from FRED.)</p><p></p>