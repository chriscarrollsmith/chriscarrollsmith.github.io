---
import BaseLayout from '../../layouts/BaseLayout.astro';
import HeaderAstro from '../../components/HeaderAstro.astro';
import Footer from '../../components/Footer.tsx';
import blogData from '../../data/blogs.json';
import type { BlogPost } from '../../types/data';
import '../../components/Blog.css';

const typedBlogData = blogData as BlogPost[];
---

<BaseLayout
  title="Christopher Carroll Smith | Blog"
  description="Blog posts by Christopher Carroll Smith, software architect, data storyteller, and president of Promptly Technologies, LLC."
  type="website"
>
  <div class="App">
    <HeaderAstro />
    <div class="blog-container">
      <h1>Blog</h1>
      {typedBlogData.map((post) => (
        <article id={String(post.id)} key={post.id} class="blog-post-summary">
          <h2>
            <a href={`/blog/${post.id}`}>{post.title}</a>
          </h2>
          <time datetime={post.date}>{new Date(post.date).toLocaleDateString()}</time>
          <p>{post.excerpt}</p>
        </article>
      ))}
    </div>
    <Footer client:load />
  </div>
</BaseLayout>
